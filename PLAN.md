# 剪刀石头布游戏项目开发计划

## 项目概述

### 运行平台
- **硬件平台**: 瑞芯微RK3588 ARM Linux

### 硬件模块
- **机械臂**: 幻尔uHand2.0
- **摄像头**: USB相机
- **语音模块**: 亚博智能AI语音交互模块CI1302

### 技术栈
- **开发语言**: Python
- **架构模式**: 工厂模式（用于硬件模块和平台的替换）

---

## 开发计划

### 阶段一：项目基础架构搭建
- [x] 创建项目目录结构
- [x] 初始化Python虚拟环境
- [x] 创建requirements.txt依赖管理文件
- [x] 编写项目README.md说明文档
- [x] 配置.gitignore文件
- [x] 设计项目整体架构（工厂模式设计）

### 阶段二：硬件抽象层设计（工厂模式）
- [x] 设计硬件抽象基类接口
  - [x] 机械臂抽象接口
  - [x] 摄像头抽象接口
  - [x] 语音模块抽象接口
- [x] 实现工厂类
  - [x] 机械臂工厂类
  - [x] 摄像头工厂类
  - [x] 语音模块工厂类
- [x] 创建硬件配置管理模块

### 阶段三：硬件模块实现
- [ ] 机械臂模块实现
  - [ ] 幻尔uHand2.0驱动封装
  - [ ] 手势动作实现（剪刀、石头、布）
  - [ ] 机械臂控制接口实现
- [x] 摄像头模块实现
  - [x] USB相机驱动封装
  - [x] 图像采集接口实现
  - [x] 图像预处理功能
- [ ] 语音模块实现
  - [ ] CI1302语音模块驱动封装
  - [ ] 语音识别接口实现
  - [ ] 语音合成接口实现
  - [ ] 语音交互逻辑实现

### 阶段四：游戏核心逻辑实现
- [x] 手势识别模块
  - [x] 图像识别算法集成（剪刀、石头、布识别，使用MediaPipe Tasks API）
  - [x] 识别结果处理
  - [x] 支持新旧MediaPipe API版本兼容
  - [x] 手势模型配置支持（models/hand_landmarker.task）
- [x] 游戏状态管理
  - [x] 游戏状态机设计
  - [x] 游戏流程控制
- [x] 游戏规则实现
  - [x] 胜负判断逻辑
  - [x] 得分统计
  - [x] 游戏回合管理
- [x] 用户交互逻辑
  - [x] 语音提示和反馈
  - [x] 游戏开始/结束流程

### 阶段五：系统集成
- [x] 主程序框架搭建
- [x] 各模块集成测试
  - [x] 机械臂与游戏逻辑集成
  - [x] 摄像头与手势识别集成
  - [x] 语音模块与交互流程集成
- [x] 异常处理机制
  - [x] 硬件故障处理
  - [x] 识别失败处理
  - [x] 通信异常处理
- [x] 日志系统实现

### 阶段六：测试与优化
- [ ] 单元测试编写
  - [ ] 硬件抽象层测试
  - [ ] 游戏逻辑测试
- [ ] 集成测试
  - [ ] 端到端功能测试
  - [ ] 性能测试
- [ ] 用户体验优化
  - [ ] 响应速度优化
  - [ ] 识别准确率优化
  - [ ] 交互流程优化
- [ ] 错误处理和容错机制完善

### 阶段七：文档与部署
- [ ] API文档编写
- [ ] 硬件配置文档
- [ ] 部署指南编写
- [ ] 用户使用手册
- [ ] 代码注释完善

---

## 技术要点

### 工厂模式设计思路
- 通过抽象基类定义硬件接口规范
- 使用工厂类根据配置创建具体硬件实例
- 支持硬件模块的灵活替换和扩展

### 可扩展性考虑
- 支持不同品牌机械臂的替换
- 支持不同型号摄像头的替换
- 支持不同语音模块的替换
- 支持不同平台的适配（RK3588及其他ARM平台）
